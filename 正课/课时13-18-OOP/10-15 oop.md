# 写在前面的话
- 跟出版社合作
  - [阅轩图书专营店- 天猫](https://yuexuants.tmall.com/?spm=a1z10.1-b.1997427721.d4918089.33fd6ef2UlKwgT)
  - 推荐图书 - [Python编程从入门到实践](https://detail.tmall.com/item.htm?spm=a1z10.3-b.w4011-9381397053.46.370c4ef8TfE6ED&id=535882394166&rn=f04cbf446620937781d3847d76c73337&abbucket=11)
- 邮箱
  - 我们会教给大家用Python发邮件
  - 对邮箱进行设置，只要设置好了，通过邮箱地址和授权吗就能发送邮件
  - 愿意的话， 联系qq 1320365896
- 下周一课程临时改用录制
- 下周三开始，前端课程开课

#  0. OOP - Python面向对象
- Ptyhon 的面向对象
- 面向对象变成
  - 基础
  - 公有私有
  - 继承
  - 组合 Mixin
- 魔法函数
  - 魔法函数概述
  - 构造类魔法函数
  - 运算类魔法函数
  
# 1. 面向对象概述（ObjectOriented - OO）
- OOP 思想
  - 接触到任意一个任务，首先想到的是这个任务的构成，是由各个部分和模型构成的；而不是怎么做，不是先想到过程

- 几个名词
  - OO： 面向对象
  - OOA： 面向对象的分析
  - OOD： 面向对象的设计
  - OOI： XXX的实现
  - OOP： XXX的编程
  - OOA->OOD>OOI： 面向对象的实现过程

- 类和对象的概念
  - 类：抽象名字，代表一个集合，共性的事物
  - 对象：具象的东西，单个个体，即类的实例
  - 类跟对象的关系
    - 一个具象，代表一类事物的某一个个体
    - 一个抽象，代表的是一大类事物
  - 类中的内容，应该具有两个内容
    - 表明事物的特征，叫做属性（变量）
    - 表明事物的功能或动作，成为成员方法（即函数）
    
# 2. 类的基本实现
- 类的命名
  - 遵守变量命名的规范
    - 大驼峰： 由一个或者多个单词构成，每个单词首字母大写，其余小写，单词间相连
    - 尽量避开跟系统命名相似，即不要跟系统关键字相同或相似
    
- 如何声明一个类
  - 必须使用class关键字
  - 类由属性和方法构成，不许与出现其他
  - 成员属性定义可以直接使用变量赋值，如果没有值， 可以使用None
  - 案例10-01.py
  
- 实例化类

        变量 = 类名() 
    
- 访问对象成员
  - 使用点操作符
  
        obj.成员属性名称
        obj.成员方法
    
- 可以通过默认内置变量检查类和对象的所有成员
  - 对象所有成员检查
        
        # dict 前后各有2个下划线
        obj.__dict__

# 3. anaconda 的基本使用
- anaconda 的用途：
  - 主要是一个是一个虚拟环境管理器
  
  - 还是一个安装包管理器
- 基本命令：
  - conda list: 显示anaconda安装的包
  - conda env list: 显示虚拟环境列表
  - conda create -n oop python=3.6 : 创建一个版本为3.6的虚拟环境，名称为oop；
    - 环境创建完成后需要激活才能使用
    - macos的激活指令：source activate oop
    - 在windows下为 conda activate oop
    
# 4. 类跟对象的成员分析
- 类和对象都可以存贮成员，成员可以归类所有，也可以归对象所有
- 类存贮成员时，使用的是与类关联的一个对象  ，成为类实例；（注意实例化具体的对象称为对象实例）
- 独享存贮成员是存贮在当前对象中的
- 对象访问一个成员时，如果对象中没有该成员，尝试访问类中的同名成员；如果对象中有此成员，一定是使用对象中的成员
- 创建对象的时候，类中的成员不会放入对象中，而是得到一个空对象，没有成员
- 对对象（实例）中的成员重新赋值，该值会保存在对象中，不会改变类的成员，即子集与父集的关系

# 5. 关于self
- `slef` 在对象的方法中表示当前对象本身，如果通过对象调用一个方法，那么该对象会自动传入到当前方法的第一个参数里
- `self` 不是一个关键字，只是用于接受对象的普通参数，可以替换
- 方法中有`self` 形参的方法称为 **非绑定类的方法**，可以通过对象访问，没有 `self` 参数的是绑定类的方法，只能通过类访问
- 使用类访问绑定类的方法时，如果类方法中需要访问当前类的成员，可以用`__class__.成员`来访问

# 6. 面向对象的三大特性
- 封装
- 继承
- 多态

## 6.1 封装
- 封装就是对对象成员进行访问限制
  - 封装的三个级别
    - public：公开
    - protected：受保护的
    - private：私有的
    - public protected private 不是关键字
    
- 判别对象的位置
  - 对象内部
  - 对象外部
  - 子类
  
- 私有 - private
  - 私有成员是最高级别的封装，只能在当前类或对象中访问
  - 在成员最前添加 **两个下划线**
  
        class Person():
            # name 是公有成员
            name = "liuying"
            
            # __age 就是私有成员
            __age = 18
            
  - Python的私有不是真私有，是一种称为 `name manling` 的改名策略
    - 可以使用 `obj._classname__attributename` 访问
    
- 受保护的封装 - protected
  - 受保护的封装是指将对象成员进行一定级别的封装，在类中或者子类中都可以访问；但是在外面不能访问 
  - 在成员名称前添加一个下划线
  
        class Person():
            # name 是公有成员
            name = "liuying"
            
            # _age 就是受保护成员
            _age = 18
            
- 公开的 - public            
  - 公共的封装实际对成员没有任何操作，任何地方都可以访问

## 6.2 继承
- 继承就是一个类可以获得使用另一个类中的成员属性和成员方法
- 作用：
  - 减少代码
  - 增加代码的复用功能
  - 同时可以设置类与子类直接的关系
- 继承与被继承的关系：
  - 被继承的类叫父类/基类，也叫超类
  - 用于继承的类，叫子类，也叫派生类
  - 继承与被继承一定存在 `is-a` 的关系
  
- 继承的语法
- 继承的特征
  - 所有的类就继承自 `object` 类，即所有的类都是 `object`  的子类
  - 子类一旦继承父类，则可以使用父类中除私有成员外的所有内容
  - 子类继承父类后并没有将父类成员完全赋值到子类中，通过引用关系访问和调用
  - 子类中可以定义其独有的成员属性和方法
  - 子类中定义的成员和父类如果相同，优先使用子类中的成员
  - 子类如果想扩充父类，可以在定义新方法的同时访问父类成员来进行代码重用，
    可以使用 `父类名.父类成员` 的格式来调用父类成员，也可以使用 `super().父类成员` 的格式来调用
- 继承变量函数查找的顺序问题
  - 任何情况优先查找自己
    - 没有再查找父类
  - 构造函数如果本类中没用定义，曾查找父类的构造函数
    - 本类有定义，则不再继续往上查找
- 构造函数
  - 是一类特殊函数，在类进行实例化前被调用
  - 如果定义了构造函数，则实例化时使用自己的构造函数，不在查找父类的构造函数
  - 如果没有定义，则查找父类的函数
  - 如果子类没有定义构造函数，父类的构造函数带参数，则构造对象时，参数应该按父类的参数构造
- super
  - super 不是关键字，而是一个类
  - super 的作用是获取MRO列表中的第一个类（Method Resolution Order）
  - super 与父类没有直接实质性关系，但通过 super 能调用到父类
  - super 使用两个方法，参见在构造函数中调用父类的构造函数
  
- 单继承和多继承
  - 单继承： 每个类只能继承一个类
  - 多继承： 每个类语序继承多个类
  
  - 单继承和多继承的优缺点：
    - 单继承：
      - 优点：传承有序，逻辑清晰，语法简单，隐患少
      - 缺点：功能不能无限扩展，只能在当前唯一的继承链中扩展
      
  - 多继承：
    - 优点：类的功能扩展方便
    - 缺点：继承关系混乱

- 菱形继承和钻石继承的问题
  - 多个子类继承自同一个父类，这些子类有被同一个类继承，于是继承关系形成一个菱形图谱 
  - 关于多继承的MRO
    - MRO就是多继承中，用于保存继承顺序的一个列表
    - Python 本身采用C3算法来对多继承的菱形继承进行计算
    - MRO列表的计算原则
      - 子类永远在父类前面
      - 如果多个父类，则按照括号内类的顺序存放
      - 如果多个类继承了同一个父类，孙子类只会选取继承语法括号中第一个父类的父类
      
- 构造函数

## 6.3 多态
 - 多态就是同一个对象，在不同的情况下，有不同的状态
 - 多态不是语法，时一个设计思想
 - 多态性：
   - 一种调用方式，不同的执行效果
 - 多态： 同一事物的多中心态，动物分为人类，狗类，猪类 
 
- Mixin 设计模式
  - 主要采用多继承的方式对类进行扩展
    - 我么使用多继承语法来实行啊mixin
    - 使用多继承来实现mixin的时候要小心：
      - 首先他必须表示某一单一功能，而不是某个物品
      - 职责必须单一，如果需要多个功能，那就写多个mixin
      - mixin 不能以来子类的实现
      - 子类即使没有继承这个mixin类，也能照样工作，只是缺少了某个功能
      
  - mixin 的优点：
    - 使用 mixin 可以在不对类做任何修改的情况下，扩充功能
    - 可以方便的组织和维护不同功能组件的划分
    - 可以根据需要任意调整功能类的组合
    - 可以避免创建很多新的类，导致类的继承混乱

# 7. 类的相关函数
- issubclass： 检查一个类是否是另一个类的子类
- isinstance:  检查一个对象是否是一个类的实例
- hasattr: 检查对象是否有xxx成员
- getattr
- setattr
- delattr
- dir: 获取对象的成员列表（属性列表）

# 8. 类的成员描述符（属性）
- 类的成员描述符是为了在类中对类的成员属性进行相关操作而创建的一种方式
  - get: 获取属性
  - set: 修改或者添加属性操作
  - delete: 删除属性
  
- 使用成员描述符，有三种方法：
  - 使用类实现描述器
  - 使用属性修饰符
  - 使用 propertiy 函数 
    - property 函数语法：
      - property(fget, fset, fdel, doc)
      
  - 无论哪种方式，都是为了对属性进行相应的控制
    - 类的方式： 适合多个类中的多个属性需要控制
    - property: 适合在当前类中使用，可以控制一个类中的多个属性
    - 属性修饰符： 在当前类中使用，控制一个类的一个属性
    
# 9. 类的内置属性

        __dict__: 以字典方式显示类的成员组成
        __doc__: 获取类的文档信息
        __name__: 获取类的名称，在当前类中使用
        __bases__: 获取某个类的所有父类，以元组的方式显示
        
# 10. 类的常用魔术方法
- 魔术方法就是不需要人为调用的方法，基本在特定的时刻自动触发
- 魔术方法有一个统一的特征，方法名被前后各两个下划线包裹
- 操作类常用魔法函数
  - `__init__` 构造函数
  - `__new__` 对象实例化方法，此方法比较特殊，一般不需要使用
  - `__call__` 对象当函数使用的时候触发
  - `__str` 当对象被当作字符串使用时触发
  - `__repr__` 返回字符串，与`__str__` 区别自行百度
  
- 描述符相关的魔法函数
  - `__set__`
  - `__get__`
  - `_delete__`
  
- 属性相关的描述符
 - `__getattr__` 访问一个不存在的对象时触发
 - `__setaddr__` 对成员属性进行设置时触发
   - 参数：
     - self 用来获取当前对象
     - 被设置的属性名称，以字符串形式出现
     - 需要对属性名称设置的值
     
            __setattr__(self, name, value)
   - 作用：进行属性设置的时候进行验证或者修改
   - 注意：在该方法中不能直接对属性直接进行赋值操作，否则进入死循环
   
- 运算类相关魔术方法
  - `__gt__`  大于判断
    - 参数：
      - self
      - 第二参数时第二个对象
      - 返回值，可以是任意值，推荐返回布尔值(true/false) 
      
# 11. 类和对象的三种方法
- 实例方法
 - 需要实例化对象才能使用的方法
- 静态方法
 - 不需要实例化，通过类直接访问
- 类方法
 - 不需要实例化 
- 三个方法自行百度 

# 12. 所用软件
- 画图软件时 faststone capure

# 13. 抽象类
-  抽象方法： 没有具体实现内容的方法称为抽象方法
  - 抽象方法的主要意义是规范子类的行为和接口

- 抽象类：
  - 包含抽象方法的类叫抽象类
  - 抽象类的使用需要借助abc模块
  
        import abc
        
  - 抽象类的使用
    - 抽象类可以包含抽象方法，也可以包含具体方法
    - 抽象类中可以有方法也可以有属性
    - 抽象类不允许直接实例化
    - 必须继承才可以使用，且继承的子类必须实现所有继承来的抽象方法
    
    - 假定子类没有实现所有继承来的抽象方法，则子类也不能被实例化
    - 抽象类的主要作用时设定类的标准，以便于开发的时候具有统一的规范

# 14. 自定义类
- 类其实时一个类定义和各种方法的组合
- 可以定义类和函数，然后自己通过类直接赋值
- 可以借助MethodType实现
- 使用type实现
- 利用元类实现 - MetaClass
  - 元类是类
  - 被用来创造别的类
                  
  
  
        

